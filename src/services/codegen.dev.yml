# https://graphql-code-generator.com/docs/plugins/typescript-react-apollo
# https://significa.co/blog/generating-typescript-types-and-react-hooks-based-on-graphql-endpoint

overwrite: true
schema: ${ENDPOINT}/graphql
documents: 'src/services/gql/*.gql'
hooks:
  afterAllFileWrite:
    - prettier --write "src/**/*.+(js|jsx|ts|tsx|json|yml|yaml|scss|css|md)"
generates:
  src/services/generated/schemas.ts:
    plugins:
      - typescript
    config:
      skipTypename: true
  src/services/generated/operations.ts:
    preset: import-types
    presetConfig:
      typesPath: ./schemas
    plugins:
      - typescript-operations
    config:
      skipTypename: true
  src/services/generated/document.ts:
    plugins:
      - typescript-document-nodes
    config:
      fragmentSuffix: FragmentDoc
      nameSuffix: 'Document'
      skipTypename: true
